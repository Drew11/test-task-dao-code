(this["webpackJsonptest-task-dao-code"]=this["webpackJsonptest-task-dao-code"]||[]).push([[0],{43:function(e,t,a){},44:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a.n(r),n=a(18),s=a.n(n),i=a(8),o=(a(43),a(14));function u(e){return e+"\xb0C."}function l(e){var t;return(t={},Object(o.a)(t,100===e,"fire"),Object(o.a)(t,-100===e,"ice"),Object(o.a)(t,e<=-10&&e>-100,"cold"),Object(o.a)(t,e>=10&&e<30,"normal"),Object(o.a)(t,e>30&&e<100,"hot"),t)[!0]}a(44);var j=a(1);var d=function(e){var t=e.temp,a=e.tempMax,r=e.tempMin,c=e.humidity,n=e.wind,s=e.clouds;return Object(j.jsx)("div",{className:"temperature-view",children:Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{className:"temperature","data-status":l(t),children:u(t)}),Object(j.jsxs)("span",{children:["temperature from ",r.toFixed(1)," to ",a.toFixed(1)," \xb0\u0421, humidity ",c," wind, ",n," m/s. clouds ",s,"%"]})]})})};var h=function(e){var t=e.weather,a=e.temperature,r="https://openweathermap.org/img/wn/".concat(t.weather[0].icon,".png"),c="https://openweathermap.org/images/flags/".concat(t.sys.country.toLocaleLowerCase(),".png");return Object(j.jsx)("div",{className:"weather-view",children:Object(j.jsxs)("div",{className:"weather",children:[Object(j.jsx)("div",{className:"weather-icon",children:Object(j.jsx)("img",{src:r,alt:"weather-icon"})}),Object(j.jsxs)("div",{className:"weather-content",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{className:"weather-city",children:t.name+", "}),Object(j.jsx)("span",{className:"weather-country",children:t.sys.country}),Object(j.jsx)("img",{className:"weather-country-flag",src:c,alt:"country-flag"}),Object(j.jsx)("span",{className:"weather-description",children:t.weather[0].description})]}),Object(j.jsx)(d,{temp:a,tempMin:t.main.temp_min,tempMax:t.main.temp_max,humidity:t.main.humidity,wind:t.wind.speed,clouds:t.clouds.all}),Object(j.jsxs)("div",{className:"coords",children:["Geo coords:",Object(j.jsxs)("span",{children:["[",t.coord.lat,", ",t.coord.lon,"]"]})]})]})]})})};a(46);var b=function(e){var t=e.setSearchQuery,a=Object(r.useState)(""),c=Object(i.a)(a,2),n=c[0],s=c[1];return Object(j.jsx)("div",{className:"search-view",children:Object(j.jsx)("div",{className:"search",children:Object(j.jsx)("input",{className:"search-input",type:"text",value:n,onChange:function(e){s(e.target.value)},onKeyDown:function(e){"Enter"===e.code&&t(e.target.value)},placeholder:"Type city"})})})},m=a(88),p=a(90),v=a(91),O=(a(47),Object(m.a)({root:{width:300,marginRight:100,marginTop:20}})),x=[{value:-100,label:"-100\xb0C"},{value:-50,label:"-50\xb0C"},{value:0,label:"0\xb0C"},{value:50,label:"50\xb0C"},{value:100,label:"100\xb0C"}];function f(e){var t=e.temperature,a=e.setTemperature,r=O();return Object(j.jsx)("div",{className:"slider-view",children:Object(j.jsxs)("div",{className:r.root,children:[Object(j.jsx)(p.a,{id:"discrete-slider-restrict",gutterBottom:!0,children:"Temperature"}),Object(j.jsx)(v.a,{value:t,min:-100,max:100,marks:x,step:1,scale:function(e){return Math.pow(e,10)},valueLabelFormat:t.toLocaleString(),onChange:function(e,t){a(t)},valueLabelDisplay:"auto","aria-labelledby":"non-linear-slider"})]})})}a(52);var g=a.p+"static/media/error.ad8a62dc.svg";var w=function(e){var t=e.error;return Object(j.jsx)("div",{className:"error-view",children:Object(j.jsxs)("div",{className:"error",children:[Object(j.jsx)("span",{className:"error-message",children:t}),Object(j.jsx)("img",{className:"error-img",src:g,alt:"error-img"})]})})};a(53);var y=function(){return Object(j.jsx)("div",{className:"spinner-view",children:Object(j.jsx)("div",{className:"loadingio-spinner-double-ring-akbya7r6j4r",children:Object(j.jsxs)("div",{className:"ldio-64ovp4fgun",children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{children:Object(j.jsx)("div",{})}),Object(j.jsx)("div",{children:Object(j.jsx)("div",{})})]})})})},N=a(10),C=a.n(N),k=a(22),S=a(34),W=a(35),_=a(36),B=a.n(_),M="cee8cad0d1dbcd913809dee4f4f8ba29",D=function(){function e(){var t=this;Object(S.a)(this,e),this._baseUrl="https://api.openweathermap.org/data/2.5/weather",this.getWeatherByQuery=function(){var e=Object(k.a)(C.a.mark((function e(a){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(t._baseUrl,"?q=").concat(a,"&units=metric&appid=").concat(M),e.next=3,t.getData(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getWeatherByCoords=function(){var e=Object(k.a)(C.a.mark((function e(a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getData(t._getWeatherRequestUrl(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}return Object(W.a)(e,[{key:"_getWeatherRequestUrl",value:function(e){var t=e.latitude,a=e.longitude;return"".concat(this._baseUrl,"?lat=").concat(t,"&lon=").concat(a,"&units=metric&appid=").concat(M)}},{key:"getData",value:function(){var e=Object(k.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.a.get(t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0.response.data.message;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();a(73);var L=function(){var e=new D,t=Object(r.useState)(null),a=Object(i.a)(t,2),c=a[0],n=a[1],s=Object(r.useState)(null),o=Object(i.a)(s,2),u=o[0],l=o[1],d=Object(r.useState)(null),m=Object(i.a)(d,2),p=m[0],v=m[1],O=Object(r.useState)(""),x=Object(i.a)(O,2),g=x[0],N=x[1],C=Object(r.useState)(!1),k=Object(i.a)(C,2),S=k[0],W=k[1],_=function(e){v(e),W(!1),n(null)},B=function(e,t){W(!0),e(t).then((function(e){var t;n(e),l((t=e.main.temp,Number(t.toFixed(1)))),W(!1),v(null)})).catch((function(e){_(e)}))};Object(r.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(t){B(e.getWeatherByCoords,t.coords)}),(function(e){_(e.message)}))}),[]),Object(r.useEffect)((function(){g&&B(e.getWeatherByQuery,g)}),[g]);var M=p&&!S&&Object(j.jsx)(w,{error:p}),L=c&&!S&&Object(j.jsx)(h,{weather:c,temperature:u}),T=c&&!S&&Object(j.jsx)(f,{temperature:u,setTemperature:l}),U=S&&Object(j.jsx)(y,{});return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("header",{className:"header",children:"Weather app"}),Object(j.jsxs)("main",{className:"main",children:[Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"Weather in your city"})}),Object(j.jsx)(b,{setSearchQuery:N}),L,M,U,T]}),Object(j.jsx)("footer",{className:"footer"})]})};s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(L,{})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.f78afa43.chunk.js.map